<!DOCTYPE html>
<html>
<head>
	<title>First Class Functions: Passing Functions as Arguments</title>
	<script type="text/javascript">
			
			var years = [1990,1965,1937,2005,1998,1988];

			function arrayCalc(arr, fn) {
				var arrRes = [];
				for(var i = 0; i < arr.length; i++) {
					arrRes.push(fn(arr[i]));
				}
				return arrRes;
			}

			function calculateAge(el) {
				var dt  = new Date();
				var currentyear = dt.getFullYear();
				return currentyear - el;
			}

			function isFullAge(el) {
				return el >= 18;
			}

			function maxHeartRate(el) {
				if(el >= 18 && el <= 81) {
					return Math.round(206.9 - (0.67 * el));
				} else {
					return -1;
				}
			}

			var ages = arrayCalc(years, calculateAge);
			var fullage = arrayCalc(ages, isFullAge);
			var rate = arrayCalc(ages, maxHeartRate);

			console.log("Ages :" + ages);
			console.log("Full age :" + fullage);
			console.log("Heart rates :" + rate);	
	</script>
</head>
<body>
	
</body>
</html>